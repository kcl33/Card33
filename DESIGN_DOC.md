# 卡普洛斯的33个幻想 游戏设计文档

## 1. 游戏概述

《卡普洛斯的33个幻想》是一款沉浸式 JRPG 卡牌游戏，结合了视觉小说和策略卡牌战斗。游戏采用朋克风格设计，以蓝/黑/白为主色调，结合动态UI和强烈的视觉冲击力。玩家将扮演"行者"时雨时光，在由卡普洛斯的幻想构建的破碎世界中展开复仇之旅。

## 2. 世界观设定

### 2.1 核心概念
这个世界原本是一个平常的现实世界，直到**卡普洛斯**做了33个幻想。这些幻想创造了：
- 邪恶的生物与卡牌精灵
- 永无止境的雨
- KBC空洞的大幅缩减
- 每天下着流星雨的天空
- 巨大的地下城
- 以及更多超自然现象

### 2.2 故事背景
**时雨时光** - 一个在末世中苟延残喘的普通人。亲眼目睹父母被怪兽吞噬，发誓要保护妹妹时雨时彩。在幸存者建立的都市"雾雨之都·拉莱耶"中艰难求生。

**核心剧情**：
- **悲剧开端**：妹妹时雨时彩因美貌被贵族强暴并杀害，主角被嫁祸为凶手
- **命运选择**：就此认命（游戏结束）或逃跑并残酷地活下去（继续游戏）
- **转折点**：在垃圾场遇到报废的AI机器人"洛芙塔娜"
- **卡普洛斯卡**：赌上灵魂、过去、现在、未来的卡牌战斗规则
- **复仇之路**：个人复仇与阶级对抗的深度叙事

## 3. 核心游戏机制

### 3.1 基础游戏系统

#### 3.1.1 玩家属性
- **基本分（Life Point）**：初始由体力属性决定，降为0时游戏结束
- **护甲值**：减少受到的伤害
- **费用点数**：每回合自动增加，用于执行操作
- **费用点数上限**：初始由精神属性决定，最高为13
- **额外点数（EP）**：用于额外召唤，每回合恢复2点

#### 3.1.2 角色系统
玩家角色拥有五大属性：
- **体力 (Vitality)**：影响初始生命值
- **精神 (Spirit)**：影响费用上限
- **敏捷 (Dexterity)**：影响先手概率和手牌上限
- **智力 (Intelligence)**：影响法术费用减免
- **力量 (Strength)**：影响物理攻击力

通过经历、理想、挫折、隐秘之事、喜欢的名著、初始携带物品等背景故事选择，进一步塑造独一无二的初始状态。

#### 3.1.3 回合流程
1. **抽卡阶段 (Draw Phase)**：抽一张牌（圣地控制方跳过此阶段）
2. **准备阶段 (Standby Phase)**：处理特定卡牌效果、回复EP（+2）、增长费用上限（+1）、回复费用至上限
3. **主要阶段 (Main Phase)**：可以进行通常召唤、设置法术卡、发动卡牌效果、改变怪兽表示形式、进行额外召唤（消耗EP）、召唤怪兽到圣地（若满足条件）
4. **战斗阶段 (Battle Phase)**：宣言进入战斗，用己方攻击表示的怪兽攻击对手的怪兽或直接攻击对手
5. **次要阶段 (Second Main Phase)**：同主要阶段，可以再次进行主要阶段的操作
6. **结束阶段 (End Phase)**：宣布回合结束，处理"直到回合结束"的效果

### 3.2 战场区域

```
[玩家A主要区] [玩家A主要区]      [玩家A额外区]      [圣地]      [玩家B额外区]      [玩家B主要区] [玩家B主要区]
[玩家A主要区] [玩家A主要区]      [ (桥头堡) ]   (战略要冲)   [ (桥头堡) ]      [玩家B主要区] [玩家B主要区]
```

- **主要怪兽区 (Main Monster Zone)**：4格。用于放置来自主卡组的怪兽
- **额外怪兽区 (Extra Monster Zone)**：每名玩家1格。只能用于放置来自额外卡组的怪兽
- **圣地 (Sanctum)**：1格，中立区域。只能放置满足条件的怪兽
- **后场区 (Spell/Policy Zone)**：5格。用于放置政策卡和盖放的法术卡
- **卡组区**
- **墓地 (Graveyard)**
- **除外区 (Banished Zone)**

### 3.3 卡牌系统

#### 3.3.1 卡牌类型
- **怪兽卡 (Monster Cards)**：
  - 通常召唤：一回合一次，消耗费用，将手牌中的怪兽以攻击或守备表示放置在主要怪兽区
  - 上级召唤：通过解放（Sacrifice）场上的一只或多只怪兽，来召唤手牌中更高等级的怪兽
  - 特殊召唤：通过卡片效果从手牌、墓地、卡组特殊召唤怪兽，只能以守备表示放置
  - 额外召唤：消耗EP，从额外卡组特殊召唤怪兽，必须放置于额外怪兽区

- **法术卡 (Spell Cards)**：
  - 即时 (Instant)：可以在自己或对手的回合满足条件时快速发动
  - 咏唱 (Chant)：需先盖放到后场，下一回合才能发动

- **政策卡 (Policy Cards)**：发动后持续存在于后场区，提供持续的被动效果或触发效果

#### 3.3.2 卡组构成
- **主卡组 (Deck)**：32张至64张
- **额外卡组 (Extra Deck)**：数量固定为15张
- **备牌 (Sideboard)**：数量固定为15张。仅在战斗前调整卡组时使用，可与主卡组/额外卡组进行一对一交换

### 3.4 圣地规则

#### 3.4.1 抢占条件
要召唤怪兽到圣地，必须满足以下唯一条件：
- 我方额外怪兽区必须存在一只表侧表示的怪兽。（该怪兽称为"桥梁"）

#### 3.4.2 控制与收益
当一方玩家的怪兽成功召唤至圣地时，该玩家立即获得圣地控制权。

**控制方收益**：
- 获得5点护甲（仅首次抢占时获得）
- 获得全局增益效果（如：所有己方怪兽攻击力+100）
- 代价：跳过其抽卡阶段（无法通常抽卡）

**非控制方补偿**：
- 每回合开始阶段，额外回复1点费用并额外抽1张牌

#### 3.4.3 失去控制权
满足以下任一条件，立即失去圣地控制权：
- 我方的圣地怪兽离场
- 我方的"桥梁"怪兽（额外区怪兽）离场。（此时圣地怪兽将被破坏）

## 4. 视觉小说系统

### 4.1 Dialogic 2 集成
游戏采用专业的 Dialogic 2 视觉小说插件，提供：
- **对话系统**：完整的对话树和分支选择
- **角色管理**：立绘、表情、声音管理
- **事件系统**：自定义事件和触发器
- **选择分支**：复杂的选择树系统

### 4.2 叙事结构
- **序章**：时雨时光的悲剧开端和命运选择
- **第一章**：遇到洛芙塔娜，学习卡普洛斯卡规则
- **第二章**：开始复仇之路，探索雾雨之都
- **后续章节**：深入卡普洛斯的33个幻想，揭示真相

## 5. UI/UX 设计

### 5.1 视觉风格
- **主色调**：蓝/黑/白配色方案
- **辅助色**：洋红色作为强调色
- **朋克风格**：棱角分明的矩形设计
- **动态效果**：雨滴、流星、故障艺术效果

### 5.2 动态效果
- 背景动态波纹、流动线条
- 选中图标晃动、倾斜
- 文字重影效果
- 菜单切换、战斗进入、技能发动时的转场动画

### 5.3 交互设计
- 高饱和度蓝色与黑色背景形成强烈对比
- 重要信息用高亮色（洋红色）标出
- 功能分区清晰，永不迷失

## 6. 技术架构规划

### 6.1 核心模块
1. **卡牌管理系统**
   - 卡牌数据结构
   - 卡组构建器
   - 卡牌效果处理器

2. **战斗系统**
   - 回合流程控制器
   - 场地管理器
   - 战斗逻辑处理器

3. **角色系统**
   - 角色数据管理
   - 属性系统
   - 成长系统

4. **视觉小说系统**
   - Dialogic 2 集成
   - 对话管理器
   - 选择分支系统

5. **UI系统**
   - 动态UI组件
   - 朋克风格界面
   - 动画和转场效果

### 6.2 文件结构规划
```
res/
├── cards/              # 卡牌资源
│   ├── monsters/       # 怪兽卡
│   ├── spells/         # 法术卡
│   └── policies/       # 政策卡
├── characters/         # 角色资源
│   ├── portraits/      # 角色头像
│   └── sprites/        # 角色立绘
├── ui/                 # UI资源
│   ├── fonts/          # 字体文件
│   ├── icons/          # 图标资源
│   └── backgrounds/    # 背景资源
└── data/               # 游戏数据
    ├── cards.json      # 卡牌数据
    ├── characters.json # 角色数据
    └── story.json      # 剧情数据

scenes/
├── battle/             # 战斗场景
├── menu/               # 菜单场景
├── deck_builder/       # 卡组构建器
└── story/              # 剧情场景

scripts/
├── core/               # 核心系统
├── battle/             # 战斗系统
├── characters/         # 角色系统
├── cards/              # 卡牌系统
├── ui/                 # UI系统
└── story/              # 剧情系统
```

## 7. 开发优先级

### 第一阶段：核心机制实现
1. 实现基本的卡牌数据结构
2. 开发回合流程控制器
3. 创建场地管理系统
4. 实现基本的召唤机制

### 第二阶段：战斗系统完善
1. 完善卡牌效果系统
2. 实现完整的战斗逻辑
3. 添加角色属性系统
4. 实现圣地争夺机制

### 第三阶段：视觉小说系统
1. 集成 Dialogic 2 插件
2. 创建角色和对话系统
3. 实现选择分支系统
4. 制作序章剧情

### 第四阶段：UI/UX优化
1. 实现朋克风格UI
2. 添加动态效果和动画
3. 优化用户体验

### 第五阶段：内容填充
1. 设计角色和属性系统
2. 制作卡牌
3. 创建完整剧情
4. 实现33个幻想区域

## 8. 胜利条件

- **主要胜利条件**：将对手的基本分降为0
- **特殊胜利条件**：通过特定卡牌效果达成

## 9. 特色系统

### 9.1 角色系统
玩家角色拥有体力 (Vitality)、精神 (Spirit)、敏捷 (Dexterity)、智力 (Intelligence)、力量 (Strength) 五大属性，影响初始生命值、费用、先手概率等。

通过经历、理想、挫折、隐秘之事、喜欢的名著、初始携带物品等背景故事选择，进一步塑造独一无二的初始状态。

### 9.2 圣地系统
圣地是多个幻想交织的"共识点"，抢夺圣地意味着掌握区域的叙事主导权。这个系统不仅影响战斗，更与剧情发展紧密相关。

### 9.3 卡普洛斯卡规则
一条被提出就必须执行的卡牌战斗规则，赌上灵魂、过去、现在、未来的战斗。这个规则贯穿整个游戏，既是战斗机制，也是叙事核心。