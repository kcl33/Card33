# CardForge Nexus 游戏设计文档

## 1. 游戏概述

CardForge Nexus 是一款结合了游戏王和影之诗元素的单机 roguelike 卡牌游戏。游戏采用日式视觉设计风格，以洋红色为主色调，结合动态UI和强烈的视觉冲击力。

## 2. 核心游戏机制

### 2.1 基础游戏系统

#### 2.1.1 玩家属性
- **基本分（生命值）**：默认8000点，降为0时游戏结束
- **护甲值**：减少受到的伤害
- **费用点数**：每回合自动增加，用于执行操作
- **费用点数上限**：限制每回合可用的费用点数
- **额外点数**：用于额外召唤，每回合恢复2点

#### 2.1.2 回合流程
1. 抽卡阶段（首回合抽4张，之后每回合抽1张）
2. 准备阶段
3. 主要阶段1
4. 战斗阶段
5. 主要阶段2
6. 结束阶段

#### 2.1.3 场地布局
```
[前场区域] [前场区域] [前场区域] [前场区域] [前场区域]
[后场区域] [后场区域] [后场区域] [后场区域] [后场区域]
[额外区域]（只有一个，需要条件才能使用）
```

### 2.2 卡牌系统

#### 2.2.1 卡牌类型
- **怪兽卡**：用于攻击和防御
- **法术卡**：
  - 咏唱法术：需要准备回合才能发动
  - 即时法术：立即发动
- **政策卡**：发动后留在场上，类似永续魔法

#### 2.2.2 召唤机制
- **通常召唤**：每回合一次，以表侧攻击表示召唤
- **上级召唤**：消耗额外费用召唤高等级怪兽
- **特殊召唤**：通过卡片效果进行的召唤
- **额外召唤**：从额外卡组召唤，需要消耗额外点数

#### 2.2.3 卡组构成
- **主卡组**：最少32张，最多64张
- **额外卡组**：用于额外召唤的卡片
- **备牌**：15张，用于战斗前调整卡组

### 2.3 召唤规则

1. **通常召唤**：每回合只能进行一次，怪兽以表侧攻击表示放置在前场
2. **特殊召唤**：通过卡片效果进行，只能以里侧守备表示（从额外卡组召唤的除外）
3. **额外区域使用条件**：必须在主要区域有一个从额外卡组特殊召唤的怪兽才能使用额外区域

## 3. 角色系统

### 3.1 角色技能
- **主动技能**：需要消耗资源或满足条件才能激活
- **被动技能**：自动生效，无需操作

### 3.2 技能树系统
- 每个角色最多装备两个不同技能
- 通过游戏进度解锁技能树节点
- 技能树提供永久成长和角色定制化

## 4. Roguelike 元素

### 4.1 卡包系统
- 每场战斗结束后获得卡包
- 卡包包含5张当前职业或地图相关的卡片
- 获得的卡片加入玩家卡库

### 4.2 遗物系统
- 局内局外永久提供buff或属性加成
- 通过特殊事件或商店获得
- 遗物效果持续整个游戏进程

### 4.3 永久成长系统
- 解锁新角色
- 解锁可在游戏中获得的新遗物
- 扩展技能树

## 5. UI/UX 设计

### 5.1 视觉风格
- **主色调**：洋红色、黑白
- **辅助色**：明亮黄色作为提示色
- **日式排版**：大量使用片假名、汉字装饰元素
- **排版手法**：文字错位、重叠、倾斜等杂志排版手法

### 5.2 动态效果
- 背景动态波纹、流动线条
- 选中图标晃动、倾斜
- 文字重影效果
- 菜单切换、战斗进入、技能发动时的转场动画

### 5.3 交互设计
- 高饱和度洋红色与黑色背景形成强烈对比
- 重要信息用高亮色（黄色）标出
- 功能分区清晰，永不迷失

## 6. 技术架构规划

### 6.1 核心模块
1. **卡牌管理系统**
   - 卡牌数据结构
   - 卡组构建器
   - 卡牌效果处理器

2. **战斗系统**
   - 回合流程控制器
   - 场地管理器
   - 战斗逻辑处理器

3. **角色系统**
   - 角色数据管理
   - 技能系统
   - 成长系统

4. **Roguelike系统**
   - 地图生成器
   - 遗物系统
   - 卡包生成器

5. **UI系统**
   - 动态UI组件
   - 日式风格界面
   - 动画和转场效果

### 6.2 文件结构规划
```
res/
├── cards/              # 卡牌资源
│   ├── monsters/       # 怪兽卡
│   ├── spells/         # 法术卡
│   └── policies/       # 政策卡
├── characters/         # 角色资源
│   ├── portraits/      # 角色头像
│   └── skills/         # 技能图标
├── relics/             # 遗物资源
├── ui/                 # UI资源
│   ├── fonts/          # 字体文件
│   ├── icons/          # 图标资源
│   └── backgrounds/    # 背景资源
└── data/               # 游戏数据
    ├── cards.json      # 卡牌数据
    ├── characters.json # 角色数据
    └── relics.json     # 遗物数据

scenes/
├── battle/             # 战斗场景
├── menu/               # 菜单场景
├── deck_builder/       # 卡组构建器
└── roguelike/          # 肉鸽元素相关场景

scripts/
├── core/               # 核心系统
├── battle/             # 战斗系统
├── characters/         # 角色系统
├── cards/              # 卡牌系统
├── ui/                 # UI系统
└── roguelike/          # 肉鸽系统
```

## 7. 开发优先级

### 第一阶段：核心机制实现
1. 实现基本的卡牌数据结构
2. 开发回合流程控制器
3. 创建场地管理系统
4. 实现基本的召唤机制

### 第二阶段：战斗系统完善
1. 完善卡牌效果系统
2. 实现完整的战斗逻辑
3. 添加角色属性系统

### 第三阶段：Roguelike元素
1. 实现卡包系统
2. 开发遗物系统
3. 创建永久成长系统

### 第四阶段：UI/UX优化
1. 实现日式风格UI
2. 添加动态效果和动画
3. 优化用户体验

### 第五阶段：内容填充
1. 设计角色和技能树
2. 制作卡牌
3. 创建遗物